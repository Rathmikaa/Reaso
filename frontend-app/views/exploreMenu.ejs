<!-- ExploreMenu.ejs -->
<link rel="stylesheet" href="/stylesheets/ExploreMenu.css">

<div class="explore-menu" id="explore-menu">
  <h1>Explore our Menu</h1>
  <p class="explore-menu-text">
    Welcome to our food ordering platform! Browse our menu and order your favorite dishes for a delightful dining experience.
  </p>

  <div class="explore-menu-list">
    <% menu_list.forEach((item, index) => { %>
      <div class="explore-menu-list-items" onclick="setCategory('<%= item.menu_name %>')">
        <img
          src="<%= item.menu_image %>"
          alt=""
          class="menu-image <%= category === item.menu_name ? 'active' : '' %>"
        />
        <p><%= item.menu_name %></p>
      </div>
    <% }) %>
  </div>

  <hr />
</div>

<script>
  function setCategory(menuName) {
    const current = '<%= category %>';
    const newCategory = current === menuName ? 'All' : menuName;
    window.location.href = `/menu?category=${encodeURIComponent(newCategory)}`;
  }
</script>
